{"ast":null,"code":"var _jsxFileName = \"/workspaces/special-wash/src/components/PrivateRoute.jsx\",\n  _s = $RefreshSig$();\nimport { Navigate, useLocation } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { Context } from \"../store/appContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PrivateRoute({\n  rolesPermitidos = [],\n  children\n}) {\n  _s();\n  var _store$rol;\n  const {\n    store\n  } = useContext(Context);\n  const location = useLocation();\n  const isAuth = !!store.token;\n  const rol = (_store$rol = store.rol) === null || _store$rol === void 0 ? void 0 : _store$rol.toLowerCase();\n  if (!isAuth) return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\",\n    replace: true,\n    state: {\n      from: location\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 22\n  }, this);\n  if (rolesPermitidos.length && !rolesPermitidos.includes(rol)) return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 71\n  }, this);\n  return children;\n}\n_s(PrivateRoute, \"287Kumrj1SkLuJPF7AF8EOf6vcw=\", false, function () {\n  return [useLocation];\n});\n_c = PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["Navigate","useLocation","useContext","Context","jsxDEV","_jsxDEV","PrivateRoute","rolesPermitidos","children","_s","_store$rol","store","location","isAuth","token","rol","toLowerCase","to","replace","state","from","fileName","_jsxFileName","lineNumber","columnNumber","length","includes","_c","$RefreshReg$"],"sources":["/workspaces/special-wash/src/components/PrivateRoute.jsx"],"sourcesContent":["import { Navigate, useLocation } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { Context } from \"../store/appContext\";\n\nexport default function PrivateRoute({ rolesPermitidos = [], children }){\n  const { store } = useContext(Context);\n  const location = useLocation();\n\n  const isAuth = !!store.token;\n  const rol = store.rol?.toLowerCase();\n\n  if(!isAuth) return <Navigate to=\"/login\" replace state={{ from: location }} />;\n  if(rolesPermitidos.length && !rolesPermitidos.includes(rol)) return <Navigate to=\"/\" replace />;\n  return children;\n}\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACxD,SAASC,UAAU,QAAQ,OAAO;AAClC,SAASC,OAAO,QAAQ,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,eAAe,SAASC,YAAYA,CAAC;EAAEC,eAAe,GAAG,EAAE;EAAEC;AAAS,CAAC,EAAC;EAAAC,EAAA;EAAA,IAAAC,UAAA;EACtE,MAAM;IAAEC;EAAM,CAAC,GAAGT,UAAU,CAACC,OAAO,CAAC;EACrC,MAAMS,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9B,MAAMY,MAAM,GAAG,CAAC,CAACF,KAAK,CAACG,KAAK;EAC5B,MAAMC,GAAG,IAAAL,UAAA,GAAGC,KAAK,CAACI,GAAG,cAAAL,UAAA,uBAATA,UAAA,CAAWM,WAAW,CAAC,CAAC;EAEpC,IAAG,CAACH,MAAM,EAAE,oBAAOR,OAAA,CAACL,QAAQ;IAACiB,EAAE,EAAC,QAAQ;IAACC,OAAO;IAACC,KAAK,EAAE;MAAEC,IAAI,EAAER;IAAS;EAAE;IAAAS,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;EAC9E,IAAGjB,eAAe,CAACkB,MAAM,IAAI,CAAClB,eAAe,CAACmB,QAAQ,CAACX,GAAG,CAAC,EAAE,oBAAOV,OAAA,CAACL,QAAQ;IAACiB,EAAE,EAAC,GAAG;IAACC,OAAO;EAAA;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;EAC/F,OAAOhB,QAAQ;AACjB;AAACC,EAAA,CAVuBH,YAAY;EAAA,QAEjBL,WAAW;AAAA;AAAA0B,EAAA,GAFNrB,YAAY;AAAA,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}